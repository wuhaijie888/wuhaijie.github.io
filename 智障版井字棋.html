<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="icon" href="zf.jpg" type="image/x-icon"/>
<link rel="stylesheet" type="text/css" href="animate.css">
<link rel="stylesheet" type="text/css" href="bootstrap-3.3.7/dist/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="font-awesome.css">
<script src="http://libs.baidu.com/jquery/1.10.2/jquery.min.js" type="text/javascript"></script> 
<script src="jquery-3.3.1.js"></script> 
<title>无标题文档</title>
</head>
<style>
 *{
        padding:0;
        margin:1px;
    }
    #calculater{
        margin: auto;
        margin-top: 30px;
        border: solid 2px black;
        border-spacing: 0px;
    }
    #display{
        width: 100%;
        height: 30px;
        border-bottom: solid 4px #2371D3;
         font-weight: bold;
         color: black;
      
        padding-left: 2px;
		padding-right: 2px;
    }
    .numberkey{
        cursor: pointer;
        width: 50px;
        height: 50px;
        border: solid 1px #FFFFFF;
        background: black;
        color: #ffffff;
        text-align: center;
        font-weight: bold;

    }

  
</style>

<body>
<table id="calculater" onClick="calculater()">
        <tr>
            <td id="display" colspan="3">现在你是"×"</td>
        </tr>
        <tr>
            <td class="numberkey" id="text1" value="1"></td>
            <td class="numberkey" id="text2" value="2"></td>
            <td class="numberkey" id="text3" value="3"></td>
        </tr>
        <tr>
            <td class="numberkey" id="text4" value="4"></td>
            <td class="numberkey" id="text5" value="4"></td>
            <td class="numberkey" id="text6" value="5"></td>
        </tr>
        <tr>
            <td class="numberkey" id="text7"  value="7"></td>
            <td class="numberkey" id="text8" value="8" ></td>
            <td class="numberkey" id="text9" value="9"></td>
        </tr>
        </table>
      <div align="center" ><button id="choose" class="btn" style="width:60px">选“o”</button></div>
</body>
<script>
$(document).ready(function(){ 
var num; 
var flag=0;
var chess=['x','o'];
var allId=[];
var num1,num2,num3,num4,num5,num6,num7,num8,num9;
var allNum=[0,0,0,0,0,0,0,0,0];
function updata()
{
 num1=$("#text1").text();
 num2=$("#text2").text();
 num3=$("#text3").text();
 num4=$("#text4").text();
 num5=$("#text5").text();
 num6=$("#text6").text();
 num7=$("#text7").text();
 num8=$("#text8").text();
 num9=$("#text9").text();
      if(num1){allNum[0]=1;
	 }else allNum[0]=0;
	  if(num2){allNum[1]=1;
	 }else allNum[1]=0;
	  if(num3){allNum[2]=1;
	 }else allNum[2]=0;
	  if(num4){allNum[3]=1;
	 }else allNum[3]=0;
	  if(num5){allNum[4]=1;
	 }else allNum[4]=0;
	  if(num6){allNum[5]=1;
	 }else allNum[5]=0;
	  if(num7){allNum[6]=1;
	 }else allNum[6]=0;
	  if(num8){allNum[7]=1;
	 }else allNum[7]=0;
	  if(num9){allNum[8]=1;
	 }else allNum[8]=0;
	 }

$("#choose").on("click",function(){
	$("#display").html("现在你是“o”");
	chess=['o','x'];
	});
$("#text1,#text2,#text3,#text4,#text5,#text6,#text7,#text8,#text9").on("click",function(){
	var id=event.srcElement.id+'';
	   if(allId.indexOf(id)==-1){    
	   allId.push(id);	
	   $(this).html(chess[0]);
	updata();
	Random();
	if(allNum[0]*allNum[1]&&allNum[1]*allNum[2])
	{ 
	$("#display").html(num1+"胜利");
	chess=[];
		}
			if(allNum[3]*allNum[4]&&allNum[4]*allNum[5])
	{ 
	$("#display").html(num4+"胜利");
	chess=[];
		}
			if(allNum[6]*allNum[7]&&allNum[7]*allNum[8])
	{ 
	$("#display").html(num7+"胜利");
	chess=[];
		}
			if(allNum[0]*allNum[3]&&allNum[3]*allNum[6])
	{ 
	$("#display").html(num1+"胜利");
	chess=[];
		}
			if(allNum[1]*allNum[4]&&allNum[4]*allNum[7])
	{ 
	$("#display").html(num2+"胜利");
	chess=[];
		}
			if(allNum[2]*allNum[5]&&allNum[5]*allNum[8])
	{ 
	$("#display").html(num3+"胜利");
	chess=[];
		}
			if(allNum[0]*allNum[4]&&allNum[4]*allNum[8])
	{ 
	$("#display").html(num1+"胜利");
	chess=[];
		}
			if(allNum[2]*allNum[4]&&allNum[4]*allNum[6])
	{ 
	$("#display").html(num3+"胜利");
	chess=[];
		}
	if(allNum.indexOf(0)==-1){
		$("#display").html("打平手");
		
	}
	}

	});
	function Random(){
	 for(var i=0;i<9;i++){
		var randomNum=Math.round(Math.random()*8+1);
	if(allNum[randomNum-1]==0){
		$("#text"+randomNum).html(chess[1]);
		return;
	}
	 }
	
		} 
});
</script>
</html>
